{% extends "base.html" %}
{% block content %}
<div class="container-fluid CL-container">
    <div class="page-title">Documentation</div>
        <div class="CL-body">
            <div class="CL-heading">Input Documentation</div>
            <div class="CL-body">
                <table class="inTable">
                    <tr>
                        <td>Name</td>
                        <td>Description</td>
                        <td>Type</td>
                        <td>Accepted values</td>
                    </tr>
                    <tr>
                        <td>startDate</td>
                        <td>The start of the time period for which you would like to search through</td>
                        <td>String</td>
                        <td>A single date in the format: yyyy-mm-ddThh:mm:ss.SSSZ. This field must be correctly filled out.</td>
                    </tr>
                    <tr>
                        <td>endDate</td>
                        <td>The end of the time period for which you would like to search through</td>
                        <td>String</td>
                        <td>A single date in the format: yyyy-mm-ddThh:mm:ss.SSSZ. This field must be correctly filled out.</td>

                    </tr>
                    <tr>
                        <td>companyID</td>
                        <td>Company/ies of which you would like to search for related news</td>
                        <td>String</td>
                        <td>Either ASX ID e.g. WOW.AX or full name e.g. Woolworths. Note all ASX ID's use the prefix '.AX'. Multiple companies are seperated with an underscore ( _ ) between each input. This field can be left blank.</td>

                    </tr>
                    <tr>
                        <td>topic</td>
                        <td>Topics of which you would like to search for related news</td>
                        <td>String</td>
                        <td>Keywords, spaces are indicated with dashes( - ). Multiple topics can be entered, separated with an underscore ( _ ). This field can also be left blank.</td>

                    </tr>
                </table>
            </div>
            <div class="CL-heading">Output Documentation</div>
                <ul style="list-style-type: none">
                    <li>Example of failed API call.</li>
                    <pre><code>
url = "http://seng3011-turtle.ap-southeast-2.elasticbeanstalk.com/newsapi/v1.0/query?""
i.e. no input data

result:
{"Developer Team": "Team Turtle", "Module Name": "News API", "API Version": "v1.0",
"Parameters passed": "{'startDate': None, 'endDate': None, 'companyId': None, 'topic': None}",
"Execution Result": ["Error", "startDate is empty"]}
                    </pre></code>

                    <li>Example of Successful API call</li>
                    <pre><code>
url = "http://seng3011-turtle.ap-southeast-2.elasticbeanstalk.com/newsapi/v1.0/query?startDate=2017-05-20T09:45:31.235Z&endDate=2017-09-24T09:45:31.235Z&companyId=ANZ_Woolworths&topic=iphone"
i.e. searches between the dates 2017/05/20:45:31.235 and 2017/09/24:45:31.235
 for the company name ANZ and Woolworths
 with the topic "iphone".

result:
{
    "Log Output": {"Developer Team": "Team Turtle", "Module Name": "News API", "API Version": "v1.0",
    "Parameters passed": "{'startDate': '2017-09-20T09:45:31.235Z', 'endDate': '2017-09-24T09:45:31.235Z',
                           'companyId': 'ANZ_WOOLWORTHS', 'topic': 'iphone'}",
    "Execution Result": ["Successful", "2018-03-29 06:11:15.464927", "2018-03-29 06:11:16.076337", "0:00:00.611410"]},
"NewsDataSet": [
{
    "InstrumentIDs": ["ANZ", "WOOLWORTHS"],
    "CompanyNames": ["ANZ", "Woolworths"],
    "TimeStamp": "2017-05-23T07:20:03Z",
    "Headline": "Labor targets bank tax and school funding in question time as it happened",
    "NewsText": "The day started marking 20 years of the Bringing Them Home report into the stolen generations. It moved on to school funding when ...
                 The opposition maintains the controversial project can proceed on its merits, but without any government support. Singh, ...
                 @gabriellechan and him @mpbowers. Join the thread or take up your cudgels on Facebook."}]
}

(note some text removed for the sake of the example)
                    </pre></code>
                </ul>
                <p>Output Semantic: Description</p>
                <ul style="list-style-type: none">
                    <li>LogOutput: contains Developer Team, Module Name, API Version, [Parameters Passed], [Execution Result].</li>
                    <li>Developer Team: Our team name, Team Turtle.</li>
                    <li>Module Name: The name of the API; News API.</li>
                    <li>Parameters Passed: A list of the input variables, detailed above, passed to the API.</li>
                    <li>Execution Result: Either successful, or an error description is given.</li>
                    <li>NewsDataSet: contains [InstrumentIDs], [CompanyNames], TimeStamp, Headline, NewsText.</li>
                    <li>InstrumentIDs: InstrumentIDs (ASX code) for the matched article.</li>
                    <li>CompanyNames: name of the company for the matched article.</li>
                    <li>TimeStamp: The date that the matched article was published.</li>
                    <li>Headline: Title of the matched article.</li>
                    <li>NewsText: Content of the matched news articles.</li>
                </ul>

    <div class="CL-heading">Examples for Calling the API</div>
            <ul style="list-style-type: none">
                <li>Python example API call.</li>
                    <pre><code>
import requests


url = "http://seng3011-turtle.ap-southeast-2.elasticbeanstalk.com/newsapi/v1.0/query?"
startDate = "2017-08-24T09:45:31.233Z"
endDate = "2017-09-24T09:45:31.233Z"
companyID = "ANZ_Woolworths"
topic = "projected-profit_share-price-prediction"

response = requests.get(url+"startDate="+startDate+"&endDate="+endDate+"&companyId="+companyID+"&topic="+topic)
                    </code></pre>
                <li>JavaScript/jQuery example API call.</li>
                    <pre><code>
url = "http://seng3011-turtle.ap-southeast-2.elasticbeanstalk.com/newsapi/v1.0/query?"
startDate = "2017-08-24T09:45:31.233Z"
endDate = "2017-09-24T09:45:31.233Z"
companyID = "ANZ_Woolworths"
topic = "projected-profit_share-price-prediction"

$.getJSON(url+"startDate="+startDate+"&endDate="+endDate+"&companyId="+companyID+"&topic="+topic, myFunction(Data));
                    </code></pre>

                    <li>curl example API call.</li>
                        <pre><code>
curl "http://seng3011-turtle.ap-southeast-2.elasticbeanstalk.com/newsapi/v1.0/query?startDate=2017-09-20T09:45:31.235Z&endDate=2017-09-24T09:45:31.235Z&companyId=ANZ_Woolworths&topic=iphone"
                        </code></pre>
            </ul>

</div>
</div>
    <!-- this page will contain a list of all our implemented features, instructions on how to use each feature and examples of each feature (using python) -->

    <!-- might be ideal to store both changes and features in text files then use python to fill a list of records to push into here, but for now hardcoding a few should be fine-->
{% endblock %}
