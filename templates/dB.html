{% extends "base.html" %}
{% block content %}
    <script type="text/javascript" src="https://www.gstatic.com/charts/loader.js"></script>
    <script type="text/javascript">
      google.charts.load('current', {'packages':['corechart']});
      google.charts.setOnLoadCallback(drawChart);

      function drawChart() { //should probly get better data ltr with rohan DESIGN the case around the negative article on 04-27
        var data = google.visualization.arrayToDataTable([
          ['Year', 'Trends Change', 'Stocks Change'],
          ['23/04',  -3,      0.85],
          ['24/04',  -7,     1.09],
          ['26/04',  14,      -1.65],
          ['27/04',  5,     -0.98],
        ]);

        var options = {
          title: 'Company Performance',
          legend: { position: 'bottom' }
        };

        var chart = new google.visualization.LineChart(document.getElementById('chart'));

        chart.draw(data, options);
      }
    </script>
    <div class="container-fluid CL-container"">
        <table class="dbTable">
            <tr>
                <td rowspan="3" style="width:300px;">
                    <ul style="list-style: circle;">
                        {% for article in articles %}
                        <li class="dbl CL-body" style="line-height: 1.2;"> <a style="color:{{article['sentc']}}">{{article['sent']}}</a> <a href="{{article['url']}}" style="float: right;"> {{article['date']}}</a><br> <a style="font-size:16px;">{{article['headline']}}</a></li>
                        {% endfor %}
                    </ul>
                </td>
                <td>
                    <div class="page-title">{{company['name']}}</div>
                </td>
            </tr>
            <tr>
                <td>
                    <div class="CL-heading" style="line-height: 1.5;">{{company['statement']|safe}}</div>
                </td>
            </tr>
            <tr>
                <td>
                <div id="chart" style="width: 1000px; height: 600px"></div>
                </td>
            </tr>
        </table>
    </div>
{% endblock %}
